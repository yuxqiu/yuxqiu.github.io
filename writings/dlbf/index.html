<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta name="view-transition" content="same-origin"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="author" content="Yuxiang Qiu"> <title>Deletable Learned Bloom Filter | Yuxiang Qiu</title> <meta name="generator" content="Jekyll v4.4.1"> <meta property="og:title" content="Deletable Learned Bloom Filter"> <meta property="og:locale" content="en"> <meta name="description" content="PDF"> <meta property="og:description" content="PDF"> <link rel="canonical" href="https://yuxqiu.github.io/writings/dlbf/"> <meta property="og:url" content="https://yuxqiu.github.io/writings/dlbf/"> <meta property="og:site_name" content="Yuxiang Qiu"> <meta property="og:type" content="article"> <meta property="article:published_time" content="2025-04-25T00:00:00+00:00"> <meta name="twitter:card" content="summary"> <meta property="twitter:title" content="Deletable Learned Bloom Filter"> <meta name="twitter:site" content="@yuxqiu"> <meta name="google-site-verification" content="OyP7PF7v8xjEbPqbdYaMosljunIcAOjdw_C6-TtA8f0"> <meta name="msvalidate.01" content="231286930EDC7A744F88D1D05B1BD04A"> <script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-07-22T10:58:12+00:00","datePublished":"2025-04-25T00:00:00+00:00","description":"PDF","headline":"Deletable Learned Bloom Filter","mainEntityOfPage":{"@type":"WebPage","@id":"https://yuxqiu.github.io/writings/dlbf/"},"url":"https://yuxqiu.github.io/writings/dlbf/"}</script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="/assets/css/mdb.min.css?62a43d1430ddb46fc4886f9d0e3b49b8"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://yuxqiu.github.io/writings/dlbf/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> <link defer rel="stylesheet" href="/assets/css/katex.min.css?62ac3d5b0ce8118df6cdb74ae142d5dc"> <link defer rel="stylesheet" href="/assets/css/katex-override.css?4e0c6c5e17b36246ad64ca0f871ddbad"> </head> <body class=" "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm sticky-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Yuxiang Qiu </a> <input type="checkbox" id="navbar-toggler-checkbox" class="navbar-toggler-checkbox" hidden> <label for="navbar-toggler-checkbox" class="navbar-toggler ml-auto"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </label> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/writings/">Writings <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/now/">Now </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <svg id="light-toggle-system" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9.173 14.83a4 4 0 1 1 5.657 -5.657"></path><path d="M11.294 12.707l.174 .247a7.5 7.5 0 0 0 8.845 2.492a9 9 0 0 1 -14.671 2.914"></path><path d="M3 12h1"></path><path d="M12 3v1"></path><path d="M5.6 5.6l.7 .7"></path><path d="M3 21l18 -18"></path></svg> <svg id="light-toggle-dark" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 1.992a10 10 0 1 0 9.236 13.838c.341 -.82 -.476 -1.644 -1.298 -1.31a6.5 6.5 0 0 1 -6.864 -10.787l.077 -.08c.551 -.63 .113 -1.653 -.758 -1.653h-.266l-.068 -.006l-.06 -.002z"></path></svg> <svg id="light-toggle-light" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 19a1 1 0 0 1 .993 .883l.007 .117v1a1 1 0 0 1 -1.993 .117l-.007 -.117v-1a1 1 0 0 1 1 -1z"></path><path d="M18.313 16.91l.094 .083l.7 .7a1 1 0 0 1 -1.32 1.497l-.094 -.083l-.7 -.7a1 1 0 0 1 1.218 -1.567l.102 .07z"></path><path d="M7.007 16.993a1 1 0 0 1 .083 1.32l-.083 .094l-.7 .7a1 1 0 0 1 -1.497 -1.32l.083 -.094l.7 -.7a1 1 0 0 1 1.414 0z"></path><path d="M4 11a1 1 0 0 1 .117 1.993l-.117 .007h-1a1 1 0 0 1 -.117 -1.993l.117 -.007h1z"></path><path d="M21 11a1 1 0 0 1 .117 1.993l-.117 .007h-1a1 1 0 0 1 -.117 -1.993l.117 -.007h1z"></path><path d="M6.213 4.81l.094 .083l.7 .7a1 1 0 0 1 -1.32 1.497l-.094 -.083l-.7 -.7a1 1 0 0 1 1.217 -1.567l.102 .07z"></path><path d="M19.107 4.893a1 1 0 0 1 .083 1.32l-.083 .094l-.7 .7a1 1 0 0 1 -1.497 -1.32l.083 -.094l.7 -.7a1 1 0 0 1 1.414 0z"></path><path d="M12 2a1 1 0 0 1 .993 .883l.007 .117v1a1 1 0 0 1 -1.993 .117l-.007 -.117v-1a1 1 0 0 1 1 -1z"></path><path d="M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z"></path></svg> </button> </li> </ul> </div> </div> </nav> </header> <main class="container mt-5 flex-grow-1" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Deletable Learned Bloom Filter</h1> </header> <article class="post-content"> <div id="markdown-content"> <div class="links"> <a href="/assets/pdf/writings/2025/dlbf.pdf" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">PDF</a> </div> <h2 id="tldr">TL;DR</h2> <p>We explore deletable variants of Learned Bloom Filters (LBF) and Sandwiched LBF (SLBF) to support element deletion. Our two main proposals are: SLBF with two Counting Bloom Filters (CBFs) for minimal false positive rate (FPR), and LBF with three Standard Bloom Filters (SBFs) for guaranteed deletability at the cost of a controlled false negative rate (FNR). Simulation results confirm a trade-off between FPR, FNR, and deletability, offering practical design choices based on memory constraints and application needs.</p> <h2 id="abstract">Abstract</h2> <p>The Bloom Filter is a space-efficient probabilistic data structure widely used for approximate membership queries. More recently, the Learned Bloom Filter (LBF) has been introduced to improve performance by leveraging models trained on the data. However, both traditional Bloom Filters and LBFs lack native support for element deletion - a critical limitation for applications such as spam filtering and IP routing.</p> <p>This study addresses this gap by extending the LBF and Sandwiched Learned Bloom Filter (SLBF) to support deletions while maintaining low false positive rates (FPR). We propose two primary designs: (1) an SLBF with two Counting Bloom Filters (CBFs) that enables deletion by replacing Standard Bloom Filters (SBFs) with CBFs, and (2) an LBF with 3 SBFs that guarantees deletion by explicitly tracking removed elements, introducing a controlled false negative rate (FNR) to optimize for FPR.</p> <p>We derive analytical expressions for FPR, deletability, and FNR for each design and validate our approach through simulation-based evaluation. Results show that the SLBF with 2 CBFs achieves the lowest FPR, while the LBF with 3 SBFs provides perfect deletability at the cost of slightly increased FNR. These findings underscore a fundamental trade-off among FPR, FNR, and deletability, and offer new strategies for enabling deletion in LBF variants.</p> <h2 id="errata">Errata</h2> <h3 id="deletability">Deletability</h3> <p>The analysis of the deletability of the SLBF with two Counting Bloom Filters (CBFs) overlooks the impact of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\alpha \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> deletions deletions. This omission is problematic, as deletability is inherently dependent on the number of elements that have been removed. As deletions accumulate, the probability that a given element remains deletable changes. Specifically, in the SLBF with two CBFs, deletability tends to increase as more elements are deleted.</p> <p>While the report formally defines deletability as the probability of successfully deleting the first inserted element, and the technical analysis adheres to this definition, the interpretation used in the evaluation deviates from it. In the experimental section, deletability is implicitly redefined as the probability that an element can be deleted after <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">\alpha \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> deletions deletions. This reinterpretation is inconsistent with the original definition and potentially misleading. In retrospect, a more appropriate approach would have been to define deletability explicitly as a function of the number of deletions, thereby capturing its dynamic behavior more accurately.</p> <h2 id="citation">Citation</h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@misc{qiudlbf2025,
  author = {Yuxiang Qiu},
  title = {Deletable Learned Bloom Filter},
  year = {2025},
  url = {https://yuxqiu.github.io/assets/pdf/writtings/2025/dlbf.pdf},
  note = {Preprint}
}
</code></pre></div></div> </div> </article> </div> </main> <footer class="sticky-bottom" role="contentinfo"> <div class="post-version"> © 2026 <a href="/">Yuxiang Qiu</a> <br> v25-07-22 | <a href="https://github.com/yuxqiu/yuxqiu.github.io/commit/f91d1d185f1e5774ef69bbead35dd305563d54cc" rel="external nofollow noopener" target="_blank">f91d1d1</a> </div> </footer> </body> </html>